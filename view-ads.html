<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <title>Visa annonser</title>
</head>
<body>
    <h1>Annonser</h1>
    <div id="adsContainer"></div>

    <script type="module">
        import { supabase } from './supabase.js';

        async function fetchAds() {
            const { data: ads, error } = await supabase
                .from('ads')
                .select('*')
                .eq('is_active', true)
                .order('created_at', { ascending: false });

            if (error) {
                console.error('Kunde inte hÃ¤mta annonser:', error);
                return;
            }

            const adsContainer = document.getElementById('adsContainer');
            adsContainer.innerHTML = '';

            ads.forEach(ad => {
                const adElement = document.createElement('div');
                adElement.innerHTML = `
                    <h2>${ad.title}</h2>
                    <p>${ad.description}</p>
                    <p>Pris: ${ad.price}</p>
                    <p>Kategori: ${ad.category}</p>
                    <p>Plats: ${ad.location}</p>
                    <p>Kontakt: ${ad.contact_email}</p>
                    <p>Telefon: ${ad.phone_number}</p>
                    <p>Visningar: ${ad.views}</p>
                    <hr>
                `;
                adsContainer.appendChild(adElement);
            });
        }

        fetchAds();
    </script>
</body>
</html>
